# yaml-language-server: $schema=./pandoc-defaults-schema.json
# schema needs to be reloaded to stop spurious errors https://github.com/jgm/pandoc/issues/8809#issuecomment-1524183838
#───────────────────────────────────────────────────────────────────────────────
# INFO $USERDATA set via pandoc option `--data-dir` to this directory
# DOCS https://pandoc.org/MANUAL.html#defaults-files
#───────────────────────────────────────────────────────────────────────────────

# PDF-WRITER
writer: pdf
template: empty

# DOCS
# https://pandoc.org/MANUAL.html#variables-for-wkhtmltopdf
# https://pandoc.org/MANUAL.html#variables-for-html
pdf-engine: wkhtmltopdf
pdf-engine-opts: ["--log-level", "warn"] # so pandoc verbosity can be set to WARNING
css: ${USERDATA}/css/nice-pandoc.css # html-based PDF engine only
variables:
  margin-left: 0
  margin-right: 0
  margin-top: 20
  margin-bottom: 20
  papersize: A4

# FIX suppress irrelevant warning about missing title if file has no h1
metadata: { title: "foobar" } 

#───────────────────────────────────────────────────────────────────────────────

# GENERAL
verbosity: WARNING
fail-if-warnings: false
table-of-contents: false
toc-depth: 3
resource-path:
  - .
  - ./attachments
  - ${VAULT_PATH} # Vault path for images, value in .zshenv

# MARKDOWN-READER
reader: |
  markdown+lists_without_preceding_blankline+mark+alert+wikilinks_title_after_pipe+rebase_relative_paths
number-sections: false
shift-heading-level-by: -1 # h2 -> h1
