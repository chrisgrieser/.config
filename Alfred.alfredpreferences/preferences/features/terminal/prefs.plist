<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>application</key>
	<integer>1</integer>
	<key>custom</key>
	<string>on alfred_script(shellCmd)
	# Launch Wezterm if needed (Appname is `WezTerm`, processname is `wezterm-gui`)
	tell application "WezTerm" to activate
	tell application "System Events"
		repeat while (name of first application process whose frontmost is true) is not "wezterm-gui"
			delay 0.05
		end repeat
	end tell

	# Alfred's "Browse path" essentially sends a `cd`
	set pathToOpen to ""
	set command to text 1 thru 2 of shellCmd
	if command is "cd" then set pathToOpen to text 4 thru -1 of shellCmd

	do shell script ("[[ \"$PWD\" != '" &amp; pathToOpen &amp; "' ]] &amp;&amp; echo '" &amp; shellCmd &amp; "' | wezterm cli send-text --no-paste")
end alfred_script</string>
</dict>
</plist>
