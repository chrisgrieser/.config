rules:
  - description: "F keys to media controls"
    # to be able to quickly change it back; see https://github.com/Rigellute/spotify-tui/issues/1072
    manipulators:
      # Open Spotify
      - type: basic
        from: {key_code: f3}
        to: 
          - shell_command: open -a "Spotify"
      # Like (only feature still working with Spotify-TUI)
      - type: basic
        from: {key_code: f4}
        to: 
          - shell_command: |
              export PATH=/usr/local/lib:/usr/local/bin:/opt/homebrew/bin/:$PATH 
              spt playback --like | 
              xargs -I {} osascript -e 'display notification "" with title "{}"'
      # Play/Pause
      - type: basic
        from: {key_code: f8}
        to: 
          - shell_command: pgrep -q "Spotify" || open -a "Spotify"
          - consumer_key_code: play_or_pause
      # Forward
      - type: basic
        from: {key_code: f9}
        to:
          - shell_command: pgrep -q "Spotify" || open -a "Spotify"
          - consumer_key_code: fast_forward
      # Back
      - type: basic
        from: {key_code: f8}
        to:
          - shell_command: pgrep -q "Spotify" || open -a "Spotify"
          - consumer_key_code: rewind
