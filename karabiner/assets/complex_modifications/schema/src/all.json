{
  "title": "App-specific-Bindings",
  "rules": [
    {
      "description": "(Apps) Zoom",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "0",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "key_code": "h",
              "modifiers": [
                "command",
                "shift"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^us\\.zoom\\.xos$"
              ]
            }
          ]
        }
      ]
    },
    {
      "description": "(Apps) Microsoft Office",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "e",
            "modifiers": {
              "mandatory": [
                "command",
                "shift"
              ]
            }
          },
          "to": [
            {
              "key_code": "s",
              "modifiers": [
                "command",
                "shift"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.microsoft\\.Word$",
                "^com\\.microsoft\\.Excel$",
                "^com\\.microsoft\\.Powerpoint$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "k",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "shell_command": "osascript -e '\n  tell application \"System Events\"\n    tell process \"Microsoft Word\"\n      set frontmost to true\n      click menu item \"Comment\" of menu \"Insert\" of menu bar 1\n    end tell\n  end tell'\n"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.microsoft\\.Word$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "1",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "shell_command": "osascript -e '\n  tell application \"System Events\" to tell process \"Microsoft Word\"\n    set frontmost to true\n    click menu item \"Thumbnail\" of menu of menu item \"Sidebar\" of menu \"View\" of menu bar 1\n  end tell'\n"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.microsoft\\.Word$"
              ]
            }
          ]
        }
      ]
    },
    {
      "description": "(Apps) Finder",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "1",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "key_code": "s",
              "modifiers": [
                "control",
                "command"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "com\\.apple\\.finder"
              ]
            }
          ]
        }
      ]
    },
    {
      "description": "(Apps) Highlights",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "l",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "software_function": {
                "set_mouse_cursor_position": {
                  "x": "60%",
                  "y": "1%",
                  "screen": 0
                }
              }
            },
            {
              "pointing_button": "button2"
            },
            {
              "software_function": {
                "set_mouse_cursor_position": {
                  "x": "10%",
                  "y": "1%",
                  "screen": 0
                }
              }
            },
            {
              "key_code": "down_arrow"
            },
            {
              "key_code": "return_or_enter"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^net\\.highlightsapp\\.universal$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "h",
            "modifiers": {
              "mandatory": [
                "control"
              ]
            }
          },
          "to": [
            {
              "shell_command": "osascript -e '\n  tell application \"System Events\"\n    tell process \"Highlights\"\n      set frontmost to true\n      click menu item \"Back\" of menu \"Go\" of menu bar 1\n    end tell\n  end tell'\n"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^net\\.highlightsapp\\.universal$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "l",
            "modifiers": {
              "mandatory": [
                "control"
              ]
            }
          },
          "to": [
            {
              "shell_command": "osascript -e '\n  tell application \"System Events\"\n    tell process \"Highlights\"\n      set frontmost to true\n      click menu item \"Forward\" of menu \"Go\" of menu bar 1\n    end tell\n  end tell'\n"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^net\\.highlightsapp\\.universal$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "0",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "key_code": "2",
              "modifiers": [
                "command"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^net\\.highlightsapp\\.universal$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "9",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "key_code": "t",
              "modifiers": [
                "command",
                "option"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^net\\.highlightsapp\\.universal$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "i",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "key_code": "i",
              "modifiers": [
                "command",
                "control"
              ]
            },
            {
              "key_code": "7",
              "modifiers": [
                "command",
                "control"
              ]
            },
            {
              "shell_command": "osascript -e 'display notification \"Tool\" with title \"Image üñºÔ∏è\"'"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^net\\.highlightsapp\\.universal$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "u",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "key_code": "u",
              "modifiers": [
                "command",
                "control"
              ]
            },
            {
              "key_code": "1",
              "modifiers": [
                "command",
                "control"
              ]
            },
            {
              "shell_command": "osascript -e 'display notification \"Tool\" with title \"Underline üñçÔ∏è\"'"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^net\\.highlightsapp\\.universal$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "k",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "key_code": "n",
              "modifiers": [
                "command",
                "control"
              ]
            },
            {
              "key_code": "3",
              "modifiers": [
                "command",
                "control"
              ]
            },
            {
              "shell_command": "osascript -e 'display notification \"Tool\" with title \"Comment üó£Ô∏è\"'"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^net\\.highlightsapp\\.universal$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "z",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "key_code": "h",
              "modifiers": [
                "command",
                "control"
              ]
            },
            {
              "key_code": "3",
              "modifiers": [
                "command",
                "control"
              ]
            },
            {
              "shell_command": "osascript -e 'display notification \"Tool\" with title \"Yellow Highlight üü®\"'"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^net\\.highlightsapp\\.universal$"
              ]
            }
          ]
        }
      ]
    },
    {
      "description": "(Apps) Brave",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "d",
            "modifiers": {
              "mandatory": [
                "command",
                "shift"
              ]
            }
          },
          "to": [
            {
              "key_code": "d",
              "modifiers": [
                "command"
              ]
            },
            {
              "key_code": "vk_none",
              "hold_down_milliseconds": 100
            },
            {
              "key_code": "tab"
            },
            {
              "key_code": "tab"
            },
            {
              "key_code": "tab"
            },
            {
              "key_code": "vk_none",
              "hold_down_milliseconds": 100
            },
            {
              "key_code": "spacebar"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com.brave.Browser$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "comma",
            "modifiers": {
              "mandatory": [
                "command",
                "shift"
              ]
            }
          },
          "to": [
            {
              "shell_command": "open 'chrome://extensions/'"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com.brave.Browser$"
              ]
            }
          ]
        }
      ]
    },
    {
      "description": "(Apps) Dev Tools",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "escape",
            "modifiers": {
              "mandatory": [
                "control"
              ]
            }
          },
          "to": [
            {
              "key_code": "i",
              "modifiers": [
                "option",
                "command"
              ]
            },
            {
              "key_code": "vk_none",
              "hold_down_milliseconds": 400
            },
            {
              "key_code": "c",
              "modifiers": [
                "shift",
                "command"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^md\\.obsidian$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "escape",
            "modifiers": {
              "mandatory": [
                "control"
              ]
            }
          },
          "to": [
            {
              "key_code": "c",
              "modifiers": [
                "option",
                "command"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com.brave.Browser$"
              ]
            }
          ]
        }
      ]
    },
    {
      "description": "(Apps) Hammerspoon: ‚åòQ ‚Üí Close instead of Quit, ‚åòK ‚Üí Clear Console, ‚åò‚áßC ‚Üí copy last command",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "q",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "key_code": "w",
              "modifiers": [
                "command"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^org\\.hammerspoon\\.Hammerspoon$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "k",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "shell_command": "open 'hammerspoon://clear-console'"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^org\\.hammerspoon\\.Hammerspoon$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "c",
            "modifiers": {
              "mandatory": [
                "command",
                "shift"
              ]
            }
          },
          "to": [
            {
              "shell_command": "open 'hammerspoon://copy-last-command'"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^org\\.hammerspoon\\.Hammerspoon$"
              ]
            }
          ]
        }
      ]
    },
    {
      "description": "(Apps) Slack",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "u",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "key_code": "down_arrow",
              "modifiers": [
                "option",
                "shift"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.tinyspeck\\.slackmacgap$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "h",
            "modifiers": {
              "mandatory": [
                "control"
              ]
            }
          },
          "to": [
            {
              "key_code": "semicolon",
              "modifiers": [
                "command"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.tinyspeck\\.slackmacgap$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "l",
            "modifiers": {
              "mandatory": [
                "control"
              ]
            }
          },
          "to": [
            {
              "key_code": "quote",
              "modifiers": [
                "command"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.tinyspeck\\.slackmacgap$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "j",
            "modifiers": {
              "mandatory": [
                "control"
              ]
            }
          },
          "to": [
            {
              "key_code": "down_arrow",
              "modifiers": [
                "option"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.tinyspeck\\.slackmacgap$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "k",
            "modifiers": {
              "mandatory": [
                "control"
              ]
            }
          },
          "to": [
            {
              "key_code": "up_arrow",
              "modifiers": [
                "option"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.tinyspeck\\.slackmacgap$"
              ]
            }
          ]
        }
      ]
    },
    {
      "description": "(Apps) Alfred",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "tab"
          },
          "to": [
            {
              "key_code": "down_arrow"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.runningwithcrayons\\.Alfred$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "tab",
            "modifiers": {
              "mandatory": [
                "shift"
              ]
            }
          },
          "to": [
            {
              "key_code": "up_arrow"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.runningwithcrayons\\.Alfred$"
              ]
            }
          ]
        }
      ]
    },
    {
      "description": "(Apps) Discord",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "h",
            "modifiers": {
              "mandatory": [
                "control"
              ]
            }
          },
          "to": [
            {
              "key_code": "left_arrow",
              "modifiers": [
                "control"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.hnc\\.Discord$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "l",
            "modifiers": {
              "mandatory": [
                "control"
              ]
            }
          },
          "to": [
            {
              "key_code": "right_arrow",
              "modifiers": [
                "control"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.hnc\\.Discord$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "u",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "key_code": "down_arrow",
              "modifiers": [
                "command",
                "shift",
                "option"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.hnc\\.Discord$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "r",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "shell_command": "pbpaste | pbcopy -pboard ruler"
            },
            {
              "key_code": "a",
              "modifiers": [
                "command"
              ]
            },
            {
              "key_code": "x",
              "modifiers": [
                "command"
              ]
            },
            {
              "key_code": "vk_none",
              "hold_down_milliseconds": 30
            },
            {
              "key_code": "tab"
            },
            {
              "key_code": "vk_none",
              "hold_down_milliseconds": 80
            },
            {
              "key_code": "up_arrow"
            },
            {
              "key_code": "vk_none",
              "hold_down_milliseconds": 80
            },
            {
              "key_code": "r"
            },
            {
              "key_code": "v",
              "modifiers": [
                "command"
              ]
            },
            {
              "key_code": "vk_none",
              "hold_down_milliseconds": 50
            },
            {
              "shell_command": "pbpaste -pboard ruler | pbcopy"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.hnc\\.Discord$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "o",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "key_code": "tab"
            },
            {
              "key_code": "vk_none",
              "hold_down_milliseconds": 50
            },
            {
              "key_code": "up_arrow"
            },
            {
              "key_code": "vk_none",
              "hold_down_milliseconds": 70
            },
            {
              "key_code": "close_bracket"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.hnc\\.Discord$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "t",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "key_code": "tab"
            },
            {
              "key_code": "vk_none",
              "hold_down_milliseconds": 40
            },
            {
              "key_code": "up_arrow"
            },
            {
              "key_code": "vk_none",
              "hold_down_milliseconds": 40
            },
            {
              "key_code": "up_arrow"
            },
            {
              "key_code": "vk_none",
              "hold_down_milliseconds": 40
            },
            {
              "key_code": "up_arrow"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.hnc\\.Discord$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "j",
            "modifiers": {
              "mandatory": [
                "control"
              ]
            }
          },
          "to": [
            {
              "key_code": "down_arrow",
              "modifiers": [
                "shift",
                "option"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.hnc\\.Discord$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "k",
            "modifiers": {
              "mandatory": [
                "control"
              ]
            }
          },
          "to": [
            {
              "key_code": "up_arrow",
              "modifiers": [
                "shift",
                "option"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.hnc\\.Discord$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "g",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "key_code": "tab"
            },
            {
              "key_code": "vk_none",
              "hold_down_milliseconds": 40
            },
            {
              "key_code": "up_arrow"
            },
            {
              "key_code": "vk_none",
              "hold_down_milliseconds": 30
            },
            {
              "key_code": "escape"
            },
            {
              "key_code": "escape"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.hnc\\.Discord$"
              ]
            }
          ]
        }
      ]
    },
    {
      "description": "(Apps) Script Editor",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "q",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "key_code": "q",
              "modifiers": [
                "command"
              ]
            },
            {
              "key_code": "vk_none",
              "hold_down_milliseconds": 400
            },
            {
              "key_code": "delete_or_backspace",
              "modifiers": [
                "command"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.apple\\.ScriptEditor"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "s",
            "modifiers": {
              "mandatory": [
                "option"
              ]
            }
          },
          "to": [
            {
              "shell_command": "osascript -l JavaScript -e '\n  const se = Application(\"Script Editor\");\n  const currentDoc = se.documents()[0]\n  const currentLang = currentDoc.language().name();\n  const otherLang = currentLang === \"AppleScript\" ? \"JavaScript\" : \"AppleScript\";\n  const otherLangObj = se.languages.byName(otherLang);\n  currentDoc.language = otherLangObj;\n  currentDoc.checkSyntax();\n'\n"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.apple\\.ScriptEditor"
              ]
            }
          ]
        }
      ]
    },
    {
      "description": "(Apps) BusyCal",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "1",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "key_code": "c",
              "modifiers": [
                "command",
                "option"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.busymac\\.busycal"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "0",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "key_code": "t",
              "modifiers": [
                "command",
                "option"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.busymac\\.busycal"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "n",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "key_code": "n",
              "modifiers": [
                "command",
                "option"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.busymac\\.busycal"
              ]
            }
          ]
        }
      ]
    },
    {
      "description": "(Apps) Mimestream",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "9",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "key_code": "t",
              "modifiers": [
                "command",
                "option"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.mimestream\\.Mimestream$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "s",
            "modifiers": {
              "mandatory": [
                "command",
                "shift"
              ]
            }
          },
          "to": [
            {
              "key_code": "b"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.mimestream\\.Mimestream$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "g",
            "modifiers": {
              "mandatory": [
                "control"
              ]
            }
          },
          "to": [
            {
              "key_code": "g",
              "modifiers": [
                "command",
                "control"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.mimestream\\.Mimestream$"
              ]
            }
          ]
        }
      ]
    },
    {
      "description": "(Apps) Cleanshot",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "4",
            "modifiers": {
              "mandatory": [
                "shift",
                "command"
              ]
            }
          },
          "to_if_alone": [
            {
              "shell_command": "open -g \"cleanshot://capture-area\""
            }
          ],
          "to_if_held_down": [
            {
              "shell_command": "osascript -e 'display notification \"\" with title \"OCR Screenshot\"'\nopen -g \"cleanshot://capture-text\"\n"
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "f13",
            "modifiers": {
              "mandatory": [
                "shift",
                "command"
              ]
            }
          },
          "to": [
            {
              "shell_command": "open -g \"cleanshot://record-screen\""
            }
          ]
        }
      ]
    },
    {
      "description": "(Apps) Shottr",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "s",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "key_code": "c",
              "modifiers": [
                "command",
                "shift"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^pl\\.maketheweb\\.cleanshotx$"
              ]
            }
          ]
        }
      ]
    },
    {
      "description": "(Apps) Pixelmator",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "e",
            "modifiers": {
              "mandatory": [
                "command",
                "shift"
              ]
            }
          },
          "to": [
            {
              "shell_command": "osascript -e '\n  tell application \"System Events\"\n    tell process \"Pixelmator Pro\"\n      set frontmost to true\n      click menu item \"Export‚Ä¶\" of menu \"File\" of menu bar 1\n    end tell\n  end tell'\n"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.pixelmatorteam\\.pixelmator\\.x$"
              ]
            }
          ]
        }
      ]
    },
    {
      "description": "(Apps) Sidenotes",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "return_or_enter",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "key_code": "o",
              "modifiers": [
                "command",
                "option"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.apptorium\\.SideNotes-paddle$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "j",
            "modifiers": {
              "mandatory": [
                "control"
              ]
            }
          },
          "to": [
            {
              "key_code": "down_arrow",
              "modifiers": [
                "command",
                "option"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.apptorium\\.SideNotes-paddle$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "k",
            "modifiers": {
              "mandatory": [
                "control"
              ]
            }
          },
          "to": [
            {
              "key_code": "up_arrow",
              "modifiers": [
                "command",
                "option"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.apptorium\\.SideNotes-paddle$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "j",
            "modifiers": {
              "mandatory": [
                "command",
                "option"
              ]
            }
          },
          "to": [
            {
              "key_code": "down_arrow",
              "modifiers": [
                "command",
                "option",
                "shift"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.apptorium\\.SideNotes-paddle$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "k",
            "modifiers": {
              "mandatory": [
                "command",
                "option"
              ]
            }
          },
          "to": [
            {
              "key_code": "up_arrow",
              "modifiers": [
                "command",
                "option",
                "shift"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.apptorium\\.SideNotes-paddle$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "s",
            "modifiers": {
              "mandatory": [
                "option"
              ]
            }
          },
          "to": [
            {
              "key_code": "3",
              "modifiers": [
                "command",
                "option"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.apptorium\\.SideNotes-paddle$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "h",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "key_code": "h",
              "modifiers": [
                "command",
                "shift"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.apptorium\\.SideNotes-paddle$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "4",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "key_code": "l",
              "modifiers": [
                "command"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.apptorium\\.SideNotes-paddle$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "z",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "key_code": "m",
              "modifiers": [
                "command"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.apptorium\\.SideNotes-paddle$"
              ]
            }
          ]
        }
      ]
    }
  ],
  "anchors": [
    {
      "conditions": [
        {
          "type": "variable_if",
          "name": "LEADER_ACTIVE",
          "value": true
        },
        {
          "type": "variable_unless",
          "name": "LEADER_ACTIVE",
          "value": true
        }
      ]
    },
    {
      "to": [
        {
          "set_variable": {
            "name": "LEADER_ACTIVE",
            "value": false
          }
        },
        {
          "set_variable": {
            "name": "LEADER_ACTIVE",
            "value": true
          }
        },
        {
          "set_notification_message": {
            "id": "leader-notice",
            "text": ""
          }
        },
        {
          "set_notification_message": {
            "id": "leader-notice",
            "text": "üî∫ Leader"
          }
        }
      ]
    },
    {
      "description": "üî∫App Switcher Leader",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "left_control"
          },
          "to": [
            {
              "key_code": "left_control"
            }
          ],
          "conditions": [
            {
              "type": "variable_unless",
              "name": "LEADER_ACTIVE",
              "value": true
            }
          ],
          "to_if_alone": [
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": true
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": "üî∫ Leader"
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "left_control"
          },
          "conditions": [
            {
              "type": "variable_if",
              "name": "LEADER_ACTIVE",
              "value": true
            }
          ],
          "to_if_alone": [
            {
              "key_code": "s",
              "modifiers": [
                "command",
                "option",
                "control"
              ]
            },
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": false
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": ""
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "caps_lock"
          },
          "conditions": [
            {
              "type": "variable_if",
              "name": "LEADER_ACTIVE",
              "value": true
            }
          ],
          "to_if_alone": [
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": false
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": ""
              }
            }
          ]
        }
      ]
    },
    {
      "description": "üî∫ App Switcher Actions",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "c"
          },
          "conditions": [
            {
              "type": "variable_if",
              "name": "LEADER_ACTIVE",
              "value": true
            }
          ],
          "to": [
            {
              "shell_command": "open -a 'BusyCal'"
            },
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": false
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": ""
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "semicolon"
          },
          "conditions": [
            {
              "type": "variable_if",
              "name": "LEADER_ACTIVE",
              "value": true
            },
            {
              "type": "input_source_if",
              "input_sources": [
                {
                  "language": "^de$"
                }
              ]
            }
          ],
          "to": [
            {
              "shell_command": "source $HOME/.zshenv\nif [[ \"$TICKER_APP\" == \"Twitter\" ]]; then\n  open -a \"Twitter\"\nelse\n  open 'https://pkm.social/notifications'\nfi\n"
            },
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": false
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": ""
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "comma"
          },
          "conditions": [
            {
              "type": "variable_if",
              "name": "LEADER_ACTIVE",
              "value": true
            }
          ],
          "to": [
            {
              "shell_command": "open -a 'System Preferences'"
            },
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": false
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": ""
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "o"
          },
          "conditions": [
            {
              "type": "variable_if",
              "name": "LEADER_ACTIVE",
              "value": true
            }
          ],
          "to": [
            {
              "shell_command": "open -a 'Obsidian'"
            },
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": false
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": ""
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "d"
          },
          "conditions": [
            {
              "type": "variable_if",
              "name": "LEADER_ACTIVE",
              "value": true
            }
          ],
          "to": [
            {
              "shell_command": "open -a 'Discord'"
            },
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": false
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": ""
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "y"
          },
          "conditions": [
            {
              "type": "variable_if",
              "name": "LEADER_ACTIVE",
              "value": true
            }
          ],
          "to": [
            {
              "shell_command": "open -a 'zoom.us'"
            },
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": false
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": ""
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "n"
          },
          "conditions": [
            {
              "type": "variable_if",
              "name": "LEADER_ACTIVE",
              "value": true
            }
          ],
          "to": [
            {
              "shell_command": "open -a 'ReadKit' || open 'https://www.inoreader.com/all_articles'"
            },
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": false
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": ""
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "s"
          },
          "conditions": [
            {
              "type": "variable_if",
              "name": "LEADER_ACTIVE",
              "value": true
            }
          ],
          "to": [
            {
              "shell_command": "open -a 'Slack'"
            },
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": false
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": ""
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "q"
          },
          "conditions": [
            {
              "type": "variable_if",
              "name": "LEADER_ACTIVE",
              "value": true
            }
          ],
          "to": [
            {
              "shell_command": "open -a 'Script Editor'"
            },
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": false
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": ""
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "m"
          },
          "conditions": [
            {
              "type": "variable_if",
              "name": "LEADER_ACTIVE",
              "value": true
            }
          ],
          "to": [
            {
              "shell_command": "source $HOME/.zshenv && open -a \"$MAIL_APP\""
            },
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": false
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": ""
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "b"
          },
          "conditions": [
            {
              "type": "variable_if",
              "name": "LEADER_ACTIVE",
              "value": true
            }
          ],
          "to": [
            {
              "shell_command": "source $HOME/.zshenv && open -a \"$BROWSER_APP\""
            },
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": false
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": ""
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "b",
            "modifiers": {
              "mandatory": [
                "shift"
              ]
            }
          },
          "conditions": [
            {
              "type": "variable_if",
              "name": "LEADER_ACTIVE",
              "value": true
            }
          ],
          "to": [
            {
              "shell_command": "osascript -e 'tell application id \"com.runningwithcrayons.Alfred\" to run trigger \"re-open-last-tab\" in workflow \"com.apple.alfred.workflow.chromium-hist\"'"
            },
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": false
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": ""
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "f"
          },
          "conditions": [
            {
              "type": "variable_if",
              "name": "LEADER_ACTIVE",
              "value": true
            }
          ],
          "to": [
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": false
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": ""
              }
            },
            {
              "shell_command": "open -a \"Finder\""
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "delete_or_backspace"
          },
          "conditions": [
            {
              "type": "variable_if",
              "name": "LEADER_ACTIVE",
              "value": true
            }
          ],
          "to": [
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": false
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": ""
              }
            },
            {
              "shell_command": "osascript -e'\n  tell application \"Finder\"\n    activate\n    open the trash\n  end tell\n  tell application \"System Events\" to tell process \"Finder\"\n    set frontmost to true\n    click menu item \"as List\" of menu \"View\" of menu bar 1\n  end tell\n  '\n"
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "h"
          },
          "conditions": [
            {
              "type": "variable_if",
              "name": "LEADER_ACTIVE",
              "value": true
            }
          ],
          "to": [
            {
              "shell_command": "open -a 'Hammerspoon'"
            },
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": false
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": ""
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "k"
          },
          "conditions": [
            {
              "type": "variable_if",
              "name": "LEADER_ACTIVE",
              "value": true
            }
          ],
          "to": [
            {
              "shell_command": "open -a 'Karabiner-EventViewer'"
            },
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": false
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": ""
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "k",
            "modifiers": {
              "mandatory": [
                "shift"
              ]
            }
          },
          "conditions": [
            {
              "type": "variable_if",
              "name": "LEADER_ACTIVE",
              "value": true
            }
          ],
          "to": [
            {
              "shell_command": "open -a 'Karabiner-Elements'"
            },
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": false
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": ""
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "z"
          },
          "conditions": [
            {
              "type": "variable_if",
              "name": "LEADER_ACTIVE",
              "value": true
            }
          ],
          "to": [
            {
              "shell_command": "open -a 'YouTube' || open 'https://www.youtube.com/'"
            },
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": false
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": ""
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "a"
          },
          "conditions": [
            {
              "type": "variable_if",
              "name": "LEADER_ACTIVE",
              "value": true
            }
          ],
          "to": [
            {
              "shell_command": "open -a 'Alfred Preferences'"
            },
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": false
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": ""
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "p"
          },
          "conditions": [
            {
              "type": "variable_if",
              "name": "LEADER_ACTIVE",
              "value": true
            }
          ],
          "to": [
            {
              "shell_command": "open -a 'Highlights'"
            },
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": false
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": ""
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "g"
          },
          "conditions": [
            {
              "type": "variable_if",
              "name": "LEADER_ACTIVE",
              "value": true
            }
          ],
          "to": [
            {
              "shell_command": "open -a 'Docs' || open -a \"Google Docs\" || open 'https://docs.google.com/'"
            },
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": false
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": ""
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "v"
          },
          "conditions": [
            {
              "type": "variable_if",
              "name": "LEADER_ACTIVE",
              "value": true
            }
          ],
          "to": [
            {
              "shell_command": "open -a 'IINA'"
            },
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": false
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": ""
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "escape"
          },
          "conditions": [
            {
              "type": "variable_if",
              "name": "LEADER_ACTIVE",
              "value": true
            }
          ],
          "to": [
            {
              "shell_command": "open -a 'Activity Monitor'"
            },
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": false
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": ""
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "w"
          },
          "conditions": [
            {
              "type": "variable_if",
              "name": "LEADER_ACTIVE",
              "value": true
            }
          ],
          "to": [
            {
              "shell_command": "open 'https://web.whatsapp.com/'"
            },
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": false
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": ""
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "t"
          },
          "conditions": [
            {
              "type": "variable_if",
              "name": "LEADER_ACTIVE",
              "value": true
            }
          ],
          "to": [
            {
              "shell_command": "open 'https://web.telegram.org/a/'"
            },
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": false
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": ""
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "e"
          },
          "conditions": [
            {
              "type": "variable_if",
              "name": "LEADER_ACTIVE",
              "value": true
            }
          ],
          "to": [
            {
              "shell_command": "open 'https://www.messenger.com/'"
            },
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": false
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": ""
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "r"
          },
          "conditions": [
            {
              "type": "variable_if",
              "name": "LEADER_ACTIVE",
              "value": true
            }
          ],
          "to": [
            {
              "shell_command": "osascript -e 'tell application id \"com.runningwithcrayons.Alfred\" to run trigger \"browse\" in workflow \"de.chris-grieser.reddit-browser\"'\n"
            },
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": false
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": ""
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "period"
          },
          "conditions": [
            {
              "type": "variable_if",
              "name": "LEADER_ACTIVE",
              "value": true
            }
          ],
          "to": [
            {
              "key_code": "spacebar",
              "modifiers": [
                "control",
                "command"
              ]
            },
            {
              "set_variable": {
                "name": "LEADER_ACTIVE",
                "value": false
              }
            },
            {
              "set_notification_message": {
                "id": "leader-notice",
                "text": ""
              }
            }
          ]
        }
      ]
    },
    {
      "description": "Addons for Alfred",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "escape"
          },
          "to_if_alone": [
            {
              "key_code": "f18"
            },
            {
              "set_variable": {
                "name": "FINDER_INSERT_MODE",
                "value": true
              }
            },
            {
              "set_variable": {
                "name": "FINDER_ALFRED_ACTIVE",
                "value": true
              }
            }
          ],
          "to_if_held_down": [
            {
              "shell_command": "open \"cleanshot://open-history\""
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.apple\\.finder$"
              ]
            },
            {
              "type": "variable_unless",
              "name": "FINDER_ALFRED_MODE",
              "value": true
            },
            {
              "type": "variable_unless",
              "name": "FINDER_INSERT_MODE",
              "value": true
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "escape"
          },
          "to_if_alone": [
            {
              "key_code": "f18"
            },
            {
              "set_variable": {
                "name": "FINDER_INSERT_MODE",
                "value": false
              }
            },
            {
              "set_variable": {
                "name": "FINDER_ALFRED_ACTIVE",
                "value": false
              }
            }
          ],
          "to_if_held_down": [
            {
              "shell_command": "open \"cleanshot://open-history\""
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "escape"
          },
          "to_if_alone": [
            {
              "key_code": "f18"
            },
            {
              "set_variable": {
                "name": "FINDER_INSERT_MODE",
                "value": false
              }
            },
            {
              "set_variable": {
                "name": "FINDER_ALFRED_ACTIVE",
                "value": false
              }
            }
          ],
          "to_if_held_down": [
            {
              "shell_command": "open \"cleanshot://open-history\""
            }
          ]
        }
      ]
    },
    {
      "description": "Extra keys",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "b",
            "modifiers": {
              "mandatory": [
                "shift"
              ]
            }
          },
          "to": [
            {
              "shell_command": "selection=$(osascript -e 'tell application \"Finder\" to return POSIX path of (item 1 of (get selection) as text)' | sed 's|/$||' )\n# bash expansion does not work in karabiner\nfilepathNoExt=$(echo \"$selection\" | rev | cut -d. -f2- | rev)\next=$(echo \"$selection\" | rev | cut -d. -f1 | rev)\nlast3CharsOfFilename=$(echo \"$filepathNoExt\" | rev | cut -c-3 | rev)\nif [[ \"$last3CharsOfFilename\" == \"_CG\" ]]; then\n  nameWithoutSig=$(echo \"$filepathNoExt\" | rev | cut -c4- | rev)\n  newName=\"$nameWithoutSig.$ext\"\nelse\n  newName=\"${filepathNoExt}_CG.$ext\"\nfi\nmv -n \"$selection\" \"$newName\"\nopen -R \"$newName\" # forces refresh of Finder\n"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.apple\\.finder$"
              ]
            },
            {
              "type": "variable_unless",
              "name": "FINDER_FIND_MODE",
              "value": true
            },
            {
              "type": "variable_unless",
              "name": "FINDER_INSERT_MODE",
              "value": true
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "y",
            "modifiers": {
              "mandatory": [
                "shift"
              ]
            }
          },
          "to": [
            {
              "shell_command": "selection=$(osascript -e 'tell application \"Finder\" to return POSIX path of (item 1 of (get selection) as text)')\n# bash expansion does not work in karabiner\next=$(echo \"$selection\" | rev | cut -d. -f1 | rev)\n\nif [[ \"$ext\" != \"zip\" ]]; then\n  display notification \"\" with title \"‚ö†Ô∏è File not a zip file.\" subtitle \"Finder Vim Mode\"\n  return 1\nfi\n\nopen -a \"Betterzip\" \"$selection\"\n"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.apple\\.finder$"
              ]
            },
            {
              "type": "variable_unless",
              "name": "FINDER_FIND_MODE",
              "value": true
            },
            {
              "type": "variable_unless",
              "name": "FINDER_INSERT_MODE",
              "value": true
            },
            {
              "type": "input_source_if",
              "input_sources": [
                {
                  "language": "^de$"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "description": "*Ô∏è‚É£ ‚á™ Capslock ‚Üí Hyper/Esc",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "caps_lock"
          },
          "to_if_alone": [
            {
              "key_code": "escape"
            }
          ],
          "to": [
            {
              "key_code": "right_shift",
              "modifiers": [
                "control",
                "option",
                "command"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "escape"
          },
          "to_if_alone": [
            {
              "key_code": "f18"
            }
          ],
          "to_if_held_down": [
            {
              "shell_command": "open \"cleanshot://open-history\""
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_unless",
              "bundle_identifiers": [
                "^com\\.apple\\.finder$"
              ]
            }
          ]
        }
      ]
    },
    {
      "description": "*Ô∏è‚É£ ‚á™R: Restart App",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "r",
            "modifiers": {
              "mandatory": [
                "command",
                "control",
                "shift",
                "option"
              ]
            }
          },
          "to": [
            {
              "shell_command": "FRONT_APP=$(osascript -e 'tell application \"System Events\" to return name of first process whose frontmost is true')\nkillall \"$FRONT_APP\"\n\n# wait for 5 secs\ni=0\nwhile pgrep -xq \"$FRONT_APP\"; do \n  i=$((i+1))\n  sleep 0.05\n  if [[ $i -gt 100 ]]; then \n    osascript -e \"display notification \\\"\\\" with title \\\"Could not quit $FRONT_APP\\\"\"\n    return 1\n  fi\ndone\n\n[[ \"$FRONT_APP\" == \"wezterm-gui\" ]] && FRONT_APP=\"WezTerm\"\nopen -a \"$FRONT_APP\"\n"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_unless",
              "file_paths": [
                "[Nn]eovide"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "5",
            "modifiers": {
              "mandatory": [
                "command",
                "control",
                "shift",
                "option"
              ]
            }
          },
          "to": [
            {
              "shell_command": "osascript -e 'display notification \"\" with title \"Restarting Alfred‚Ä¶\"'\nkillall -9 \"Alfred\"\nkillall \"Alfred Preferences\"\nwhile pgrep -xq \"Alfred\"; do sleep 0.1; done\nsleep 0.1\nopen -a \"Alfred 5\"\nopen -a \"Alfred Preferences\"\nosascript -e 'tell application id \"com.runningwithcrayons.Alfred\" to search'\n"
            }
          ]
        }
      ]
    },
    {
      "description": "Insert Mode Vim: ‚á™ Hyper + hjklio<space> ‚Üí ‚å´‚Üê‚Üì‚Üë‚Üí",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "c",
            "modifiers": {
              "mandatory": [
                "option",
                "shift",
                "command",
                "control"
              ]
            }
          },
          "to": [
            {
              "key_code": "right_arrow",
              "modifiers": [
                "command",
                "shift"
              ]
            },
            {
              "key_code": "delete_or_backspace"
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "x",
            "modifiers": {
              "mandatory": [
                "option",
                "shift",
                "command",
                "control"
              ]
            }
          },
          "to": [
            {
              "key_code": "left_arrow",
              "modifiers": [
                "command",
                "shift"
              ]
            },
            {
              "key_code": "delete_or_backspace"
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "h",
            "modifiers": {
              "mandatory": [
                "option",
                "shift",
                "command",
                "control"
              ]
            }
          },
          "to": [
            {
              "key_code": "left_arrow"
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "j",
            "modifiers": {
              "mandatory": [
                "option",
                "shift",
                "command",
                "control"
              ]
            }
          },
          "to": [
            {
              "key_code": "down_arrow"
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "k",
            "modifiers": {
              "mandatory": [
                "option",
                "shift",
                "command",
                "control"
              ]
            }
          },
          "to": [
            {
              "key_code": "up_arrow"
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "l",
            "modifiers": {
              "mandatory": [
                "option",
                "shift",
                "command",
                "control"
              ]
            }
          },
          "to": [
            {
              "key_code": "right_arrow"
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "i",
            "modifiers": {
              "mandatory": [
                "option",
                "shift",
                "command",
                "control"
              ]
            }
          },
          "to": [
            {
              "key_code": "left_arrow",
              "modifiers": [
                "option"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "o",
            "modifiers": {
              "mandatory": [
                "option",
                "shift",
                "command",
                "control"
              ]
            }
          },
          "to": [
            {
              "key_code": "right_arrow",
              "modifiers": [
                "option"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "spacebar",
            "modifiers": {
              "mandatory": [
                "option",
                "shift",
                "command",
                "control"
              ]
            }
          },
          "to": [
            {
              "key_code": "right_arrow",
              "modifiers": [
                "option"
              ]
            },
            {
              "key_code": "delete_or_backspace",
              "modifiers": [
                "option"
              ]
            },
            {
              "key_code": "delete_or_backspace"
            },
            {
              "key_code": "right_arrow"
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "period",
            "modifiers": {
              "mandatory": [
                "command",
                "control",
                "shift",
                "option"
              ]
            }
          },
          "to": [
            {
              "key_code": "vk_none"
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "comma",
            "modifiers": {
              "mandatory": [
                "command",
                "control",
                "shift",
                "option"
              ]
            }
          },
          "to": [
            {
              "key_code": "vk_none"
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "simultaneous": [
              {
                "key_code": "period"
              },
              {
                "key_code": "command"
              },
              {
                "key_code": "shift"
              },
              {
                "key_code": "control"
              },
              {
                "key_code": "option"
              }
            ]
          },
          "to": [
            {
              "key_code": "vk_none"
            }
          ],
          "parameters": {
            "basic.simultaneous_threshold_milliseconds": 400
          }
        },
        {
          "type": "basic",
          "from": {
            "simultaneous": [
              {
                "key_code": "comma"
              },
              {
                "key_code": "command"
              },
              {
                "key_code": "shift"
              },
              {
                "key_code": "control"
              },
              {
                "key_code": "option"
              },
              {
                "key_code": "period"
              }
            ]
          },
          "to": [
            {
              "key_code": "vk_none"
            }
          ],
          "parameters": {
            "basic.simultaneous_threshold_milliseconds": 400
          }
        }
      ]
    },
    {
      "description": "(Mouse) Right-Click (briefly): Open link in new background tab",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "pointing_button": "button2"
          },
          "to_if_alone": [
            {
              "pointing_button": "button1",
              "modifiers": [
                "command"
              ]
            }
          ],
          "to_if_held_down": [
            {
              "pointing_button": "button2"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^org\\.chromium\\.Chromium$",
                "^com\\.brave\\.Browser$",
                "^com\\.apple\\.Safari$",
                "^com\\.vivaldi\\.Vivaldi$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "pointing_button": "button2"
          },
          "to_if_held_down": [
            {
              "pointing_button": "button2"
            }
          ],
          "to_if_alone": [
            {
              "pointing_button": "button1"
            },
            {
              "key_code": "vk_none",
              "hold_down_milliseconds": 600
            },
            {
              "key_code": "h",
              "modifiers": [
                "command"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^app\\.readkit\\.universal$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "pointing_button": "button2"
          },
          "to_if_held_down": [
            {
              "pointing_button": "button2"
            }
          ],
          "to_if_alone": [
            {
              "pointing_button": "button1"
            },
            {
              "key_code": "vk_none",
              "hold_down_milliseconds": 200
            },
            {
              "key_code": "tab",
              "modifiers": [
                "command"
              ]
            },
            {
              "key_code": "vk_none",
              "hold_down_milliseconds": 100
            },
            {
              "key_code": "non_us_pound"
            },
            {
              "key_code": "h",
              "modifiers": [
                "command"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.mimestream\\.Mimestream$"
              ]
            }
          ]
        }
      ]
    },
    {
      "description": "(Mouse) 3: Quit app",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "pointing_button": "button3"
          },
          "to": [
            {
              "key_code": "q",
              "modifiers": [
                "command"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_unless",
              "file_paths": [
                "BetterTouchTool",
                "Hammerspoon",
                "[Nn]eovide",
                "[Mm]industry"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "pointing_button": "button3"
          },
          "to": [
            {
              "key_code": "w",
              "modifiers": [
                "command"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "file_paths": [
                "BetterTouchTool",
                "Hammerspoon"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "pointing_button": "button3"
          },
          "to": [
            {
              "shell_command": "export PATH=/usr/local/lib:/usr/local/bin:/opt/homebrew/bin/:$PATH\nnvim --server \"/tmp/nvim_server.pipe\" --remote-send \"<cmd>wq<CR>\"\n"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "file_paths": [
                "[Nn]eovide"
              ]
            }
          ]
        }
      ]
    },
    {
      "description": "(Mouse) 4 (bottom)",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "pointing_button": "button4"
          },
          "to": [
            {
              "key_code": "h",
              "modifiers": [
                "control"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^md\\.obsidian$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "pointing_button": "button4"
          },
          "to": [
            {
              "key_code": "non_us_pound"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.mimestream\\.Mimestream$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "pointing_button": "button4"
          },
          "to_if_alone": [
            {
              "key_code": "n",
              "modifiers": [
                "control",
                "command"
              ]
            },
            {
              "key_code": "3",
              "modifiers": [
                "control",
                "command"
              ]
            },
            {
              "shell_command": "osascript -e 'display notification \"Tool\" with title \"Comment ‚úèÔ∏è \"'"
            }
          ],
          "to_if_held_down": [
            {
              "key_code": "u",
              "modifiers": [
                "control",
                "command"
              ]
            },
            {
              "key_code": "1",
              "modifiers": [
                "control",
                "command"
              ]
            },
            {
              "shell_command": "osascript -e 'display notification \"Tool\" with title \"Underline üñçÔ∏è\"'"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^net\\.highlightsapp\\.universal$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "pointing_button": "button4"
          },
          "to": [
            {
              "shell_command": "osascript -e '\n  tell application \"System Events\"\n    tell process \"Microsoft Word\"\n      set frontmost to true\n      click menu item \"Comment\" of menu \"Insert\" of menu bar 1\n    end tell\n  end tell'\n"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.microsoft\\.Word$"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "pointing_button": "button4"
          },
          "to": [
            {
              "shell_command": "osascript -e '\n  tell application \"System Events\"\n  tell process \"Finder\"\n    set frontmost to true\n    click menu item \"Back\" of menu \"Go\" of menu bar 1\n  end tell\nend tell'\n"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.apple\\.finder$"
              ]
            }
          ]
        }
      ]
    },
    {
      "description": "(Mouse) 5 (top)",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "pointing_button": "button5"
          },
          "to_if_alone": [
            {
              "pointing_button": "button5"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_unless",
              "bundle_identifiers": [
                "^com\\.brave\\.Browser$",
                "^com\\.vivaldi\\.Vivaldi$",
                "^com\\.apple\\.finder$",
                "^md\\.obsidian$",
                "^com\\.mimestream\\.Mimestream$",
                "^net\\.highlightsapp\\.universal$",
                "^org\\.hammerspoon\\.Hammerspoon$",
                "^com\\.tapbots\\.Ivory$"
              ]
            }
          ],
          "to_if_held_down": [
            {
              "shell_command": "osascript -e 'tell application id \"com.runningwithcrayons.Alfred\" to run trigger \"search-selection\" in workflow \"de.chris-grieser.hyper-seek\"'"
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "pointing_button": "button5"
          },
          "to": [
            {
              "shell_command": "osascript -e '\n  tell application \"System Events\" to tell process \"Ivory\"\n    set frontmost to true\n    click menu item \"Open Link to Post\" of menu \"Post\" of menu bar 1\n    delay 0.15\n    if frontmost is true then\n      click menu item \"Open Link to Profile\" of menu \"User\" of menu bar 1\n    end if\n  end tell\n'\n"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.tapbots\\.Ivory$"
              ]
            }
          ],
          "to_if_held_down": [
            {
              "shell_command": "osascript -e 'tell application id \"com.runningwithcrayons.Alfred\" to run trigger \"search-selection\" in workflow \"de.chris-grieser.hyper-seek\"'"
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "pointing_button": "button5"
          },
          "to_if_alone": [
            {
              "key_code": "w",
              "modifiers": [
                "command"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.brave\\.Browser$",
                "^com\\.vivaldi\\.Vivaldi$",
                "^com\\.apple\\.finder$",
                "^md\\.obsidian$",
                "^org\\.hammerspoon\\.Hammerspoon$"
              ]
            }
          ],
          "to_if_held_down": [
            {
              "shell_command": "osascript -e 'tell application id \"com.runningwithcrayons.Alfred\" to run trigger \"search-selection\" in workflow \"de.chris-grieser.hyper-seek\"'"
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "pointing_button": "button5"
          },
          "to_if_alone": [
            {
              "key_code": "h",
              "modifiers": [
                "command",
                "control"
              ]
            },
            {
              "key_code": "3",
              "modifiers": [
                "command",
                "control"
              ]
            },
            {
              "shell_command": "osascript -e 'display notification \"Tool\" with title \"Yellow Highlight üü®\"'"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^net\\.highlightsapp\\.universal$"
              ]
            }
          ],
          "to_if_held_down": [
            {
              "shell_command": "osascript -e 'tell application id \"com.runningwithcrayons.Alfred\" to run trigger \"search-selection\" in workflow \"de.chris-grieser.hyper-seek\"'"
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "pointing_button": "button5"
          },
          "to_if_alone": [
            {
              "key_code": "e"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.mimestream\\.Mimestream$"
              ]
            }
          ],
          "to_if_held_down": [
            {
              "shell_command": "osascript -e 'tell application id \"com.runningwithcrayons.Alfred\" to run trigger \"search-selection\" in workflow \"de.chris-grieser.hyper-seek\"'"
            }
          ]
        }
      ]
    },
    {
      "description": "(Mouse) 1+2 (simultaneously): Dictionary Lookup",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "simultaneous": [
              {
                "pointing_button": "button1"
              },
              {
                "pointing_button": "button2"
              }
            ]
          },
          "to": [
            {
              "pointing_button": "button1"
            },
            {
              "key_code": "d",
              "modifiers": [
                "control",
                "command"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_unless",
              "bundle_identifiers": [
                "^md\\.obsidian$"
              ]
            }
          ]
        }
      ]
    },
    {
      "description": "Utilities: r-cmd, cmd-j, cmd-shift-j, cmd-e",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "right_command"
          },
          "to": [
            {
              "key_code": "right_command"
            }
          ],
          "to_if_alone": [
            {
              "key_code": "e",
              "modifiers": [
                "control"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "spacebar",
            "modifiers": {
              "mandatory": [
                "fn"
              ]
            }
          },
          "to": [
            {
              "key_code": "spacebar",
              "modifiers": [
                "control"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "j",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "key_code": "right_arrow",
              "modifiers": [
                "option"
              ]
            },
            {
              "key_code": "left_arrow",
              "modifiers": [
                "shift",
                "option"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_unless",
              "file_paths": [
                "^/Applications/Obsidian\\.app",
                "[Nn]eovide"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "j",
            "modifiers": {
              "mandatory": [
                "command",
                "shift"
              ]
            }
          },
          "to": [
            {
              "shell_command": "osascript -e '\n  tell application \"System Events\" to tell (first process where it is frontmost)\n    click menu item \"Use Selection For Find\" of menu of menu item \"Find\" of menu \"Edit\" of menu bar 1\n    click menu item \"Find Next\" of menu of menu item \"Find\" of menu \"Edit\" of menu bar 1\n  end tell'\n"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_unless",
              "file_paths": [
                "^/Applications/Obsidian\\.app",
                "[Nn]eovide"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "e",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "shell_command": "pbpaste | pbcopy -pboard ruler"
            },
            {
              "key_code": "vk_none",
              "hold_down_milliseconds": 100
            },
            {
              "shell_command": "pbcopy < /dev/null"
            },
            {
              "key_code": "vk_none",
              "hold_down_milliseconds": 100
            },
            {
              "key_code": "x",
              "modifiers": [
                "command"
              ]
            },
            {
              "key_code": "vk_none",
              "hold_down_milliseconds": 150
            },
            {
              "key_code": "equal_sign",
              "modifiers": [
                "shift"
              ]
            },
            {
              "key_code": "equal_sign",
              "modifiers": [
                "shift"
              ]
            },
            {
              "key_code": "left_arrow"
            },
            {
              "key_code": "v",
              "modifiers": [
                "command"
              ]
            },
            {
              "key_code": "vk_none",
              "hold_down_milliseconds": 100
            },
            {
              "shell_command": "pbpaste -pboard ruler | pbcopy"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.hnc\\.Discord$",
                "^com\\.tinyspeck\\.slackmacgap$",
                "^com\\.brave\\.Browser$",
                "^com\\.vivaldi\\.Vivaldi$",
                "^com\\.apptorium\\.SideNotes-paddle$",
                "^com\\.runningwithcrayons\\.Alfred-Preferences$"
              ]
            }
          ]
        }
      ]
    },
    {
      "description": "Special Characters: |^\\~[]",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "3",
            "modifiers": {
              "mandatory": [
                "shift"
              ]
            }
          },
          "conditions": [
            {
              "type": "input_source_if",
              "input_sources": [
                {
                  "language": "^de$"
                }
              ]
            }
          ],
          "to": [
            {
              "key_code": "7",
              "modifiers": [
                "option"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "non_us_backslash",
            "modifiers": {
              "mandatory": [
                "shift"
              ]
            }
          },
          "conditions": [
            {
              "type": "input_source_if",
              "input_sources": [
                {
                  "language": "^de$"
                }
              ]
            }
          ],
          "to": [
            {
              "select_input_source": {
                "input_source_id": "^com\\.apple\\.keylayout\\.US$"
              }
            },
            {
              "key_code": "vk_none",
              "hold_down_milliseconds": 20
            },
            {
              "key_code": "non_us_pound"
            }
          ],
          "to_after_key_up": [
            {
              "select_input_source": {
                "input_source_id": "^com\\.apple\\.keylayout\\.ABC-QWERTZ$"
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "non_us_backslash",
            "modifiers": {
              "mandatory": [
                "option"
              ]
            }
          },
          "conditions": [
            {
              "type": "input_source_if",
              "input_sources": [
                {
                  "language": "^de$"
                }
              ]
            }
          ],
          "to": [
            {
              "key_code": "non_us_backslash",
              "modifiers": [
                "shift"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "non_us_backslash",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "conditions": [
            {
              "type": "input_source_if",
              "input_sources": [
                {
                  "language": "^de$"
                }
              ]
            }
          ],
          "to": [
            {
              "key_code": "6",
              "modifiers": [
                "command"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "equal_sign",
            "modifiers": {
              "mandatory": [
                "shift"
              ]
            }
          },
          "to": [
            {
              "key_code": "equal_sign",
              "modifiers": [
                "shift"
              ]
            },
            {
              "key_code": "spacebar"
            }
          ],
          "conditions": [
            {
              "type": "input_source_if",
              "input_sources": [
                {
                  "language": "^de$"
                }
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "non_us_backslash"
          },
          "to": [
            {
              "key_code": "non_us_backslash"
            },
            {
              "key_code": "spacebar"
            }
          ],
          "conditions": [
            {
              "type": "input_source_if",
              "input_sources": [
                {
                  "language": "^de$"
                }
              ]
            },
            {
              "type": "frontmost_application_unless",
              "file_paths": [
                "^/Applications/Obsidian\\.app",
                "[Nn]eovide"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "n",
            "modifiers": {
              "mandatory": [
                "option"
              ]
            }
          },
          "conditions": [
            {
              "type": "input_source_if",
              "input_sources": [
                {
                  "language": "^de$"
                }
              ]
            },
            {
              "type": "frontmost_application_unless",
              "file_paths": [
                "wezterm-gui$"
              ]
            }
          ],
          "to": [
            {
              "select_input_source": {
                "input_source_id": "^com\\.apple\\.keylayout\\.US$"
              }
            },
            {
              "key_code": "vk_none",
              "hold_down_milliseconds": 20
            },
            {
              "key_code": "grave_accent_and_tilde",
              "modifiers": [
                "shift"
              ]
            }
          ],
          "to_after_key_up": [
            {
              "select_input_source": {
                "input_source_id": "^com\\.apple\\.keylayout\\.ABC-QWERTZ$"
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "hyphen",
            "modifiers": {
              "mandatory": [
                "option"
              ]
            }
          },
          "conditions": [
            {
              "type": "input_source_if",
              "input_sources": [
                {
                  "language": "^de$"
                }
              ]
            },
            {
              "type": "frontmost_application_unless",
              "bundle_identifiers": [
                "^com\\.tinyspeck\\.slackmacgap$",
                "^com\\.microsoft\\.Word$",
                "^com\\.apptorium\\.SideNotes-paddle$"
              ]
            }
          ],
          "to": [
            {
              "key_code": "hyphen"
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "hyphen"
          },
          "conditions": [
            {
              "type": "input_source_if",
              "input_sources": [
                {
                  "language": "^de$"
                }
              ]
            },
            {
              "type": "frontmost_application_unless",
              "bundle_identifiers": [
                "^com\\.tinyspeck\\.slackmacgap$",
                "^com\\.microsoft\\.Word$",
                "^com\\.apptorium\\.SideNotes-paddle$"
              ]
            }
          ],
          "to": [
            {
              "select_input_source": {
                "input_source_id": "^com\\.apple\\.keylayout\\.US$"
              }
            },
            {
              "key_code": "vk_none",
              "hold_down_milliseconds": 20
            },
            {
              "key_code": "open_bracket"
            }
          ],
          "to_after_key_up": [
            {
              "select_input_source": {
                "input_source_id": "^com\\.apple\\.keylayout\\.ABC-QWERTZ$"
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "equal_sign"
          },
          "conditions": [
            {
              "type": "input_source_if",
              "input_sources": [
                {
                  "language": "^de$"
                }
              ]
            }
          ],
          "to": [
            {
              "select_input_source": {
                "input_source_id": "^com\\.apple\\.keylayout\\.US$"
              }
            },
            {
              "key_code": "vk_none",
              "hold_down_milliseconds": 20
            },
            {
              "key_code": "close_bracket"
            }
          ],
          "to_after_key_up": [
            {
              "select_input_source": {
                "input_source_id": "^com\\.apple\\.keylayout\\.ABC-QWERTZ$"
              }
            }
          ]
        }
      ]
    },
    {
      "description": "ü•æ Pedal: j",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "b"
          },
          "to": [
            {
              "key_code": "j"
            }
          ],
          "conditions": [
            {
              "type": "device_if",
              "identifiers": [
                {
                  "vendor_id": 6790
                }
              ]
            },
            {
              "type": "frontmost_application_if",
              "file_paths": [
                "[Nn]eovide",
                "Vivaldi",
                "Brave Browser",
                "Obsidian"
              ]
            }
          ]
        }
      ]
    },
    {
      "description": "Neovide: ‚á™R to restart",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "r",
            "modifiers": {
              "mandatory": [
                "command",
                "control",
                "shift",
                "option"
              ]
            }
          },
          "conditions": [
            {
              "type": "frontmost_application_if",
              "file_paths": [
                "[Nn]eovide"
              ]
            }
          ],
          "to": [
            {
              "shell_command": "export PATH=/usr/local/lib:/usr/local/bin:/opt/homebrew/bin/:$PATH\nnvim --server \"/tmp/nvim_server.pipe\" --remote-send \"<cmd>try|wqall|catch|qall|endtry<CR>\"\n\n# wait for 3 secs, if nvim is still running then, try to killall\ni=0\nwhile pgrep -xq \"nvim\" && [[ $i -lt 30 ]]; do \n  i=$((i+1))\n  sleep 0.1\ndone\n\nif pgrep -xq \"nvim\" ; then\n  osascript -e 'display notification \"\" with title \"‚öîÔ∏è Force Killing nvim‚Ä¶\"'\n  killall -9 nvim neovide\nfi\n\n# wait for 2 seconds and if nvim is *still* running, abort\ni=0\nwhile pgrep -xq \"nvim\" ; do \n  i=$((i+1))\n  sleep 0.1\n  if [[ $i -gt 20 ]]; then\n    osascript -e 'display notification \"\" with title \"Could not quit Neovide.\" sound name \"Ping\"'\n    return 1\n  fi\ndone\n\n# bwipeout necessary due to empty buffer created before jumping to '0\nnohup neovide --notabs --frame=buttonless --geometry=104x33 -- -c \"execute \\\"normal! '0\\\" | bwipeout #\" &\ndisown # https://stackoverflow.com/a/20338584/22114136\n"
            }
          ]
        }
      ]
    },
    {
      "description": "Neovide: Fix <S-Space> and ‚åòQ ‚Üí ZZ",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "spacebar",
            "modifiers": {
              "mandatory": [
                "shift"
              ]
            }
          },
          "to": [
            {
              "key_code": "f2"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "file_paths": [
                "[Nn]eovide"
              ]
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "q",
            "modifiers": {
              "mandatory": [
                "command"
              ]
            }
          },
          "to": [
            {
              "shell_command": "export PATH=/usr/local/lib:/usr/local/bin:/opt/homebrew/bin/:$PATH\nnvim --server \"/tmp/nvim_server.pipe\" --remote-send \"<cmd>try|wqall|catch|qall|endtry<CR>\"\n"
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "file_paths": [
                "[Nn]eovide"
              ]
            }
          ]
        }
      ]
    },
    {
      "description": "Grave ^ -> f1, and that in turn remapped in the app",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "non_us_backslash"
          },
          "conditions": [
            {
              "type": "input_source_if",
              "input_sources": [
                {
                  "language": "^de$"
                }
              ]
            },
            {
              "type": "frontmost_application_if",
              "file_paths": [
                "^/Applications/Obsidian\\.app",
                "[Nn]eovide"
              ]
            }
          ],
          "to": [
            {
              "key_code": "f1"
            }
          ]
        }
      ]
    },
    {
      "description": "svim: shift-space to ctrl-s",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "spacebar",
            "modifiers": {
              "mandatory": [
                "shift"
              ]
            }
          },
          "to": [
            {
              "key_code": "s",
              "modifiers": [
                "control"
              ]
            }
          ],
          "conditions": [
            {
              "type": "frontmost_application_if",
              "bundle_identifiers": [
                "^com\\.brave\\.Browser$",
                "^com\\.vivaldi\\.Vivaldi$",
                "^com\\.tinyspeck\\.slackmacgap$",
                "^com\\.hnc\\.Discord$",
                "^com\\.apptorium\\.SideNotes-paddle$",
                "^com\\.mimestream\\.Mimestream$",
                "^com\\.github\\.wez\\.wezterm$"
              ]
            }
          ]
        }
      ]
    },
    {
      "description": "vim motions: special characters in US layout",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "8",
            "modifiers": {
              "mandatory": [
                "option"
              ]
            }
          },
          "conditions": [
            {
              "type": "input_source_if",
              "input_sources": [
                {
                  "language": "^de$"
                }
              ]
            },
            {
              "type": "frontmost_application_if",
              "file_paths": [
                "^/Applications/Obsidian\\.app",
                "[Nn]eovide"
              ]
            }
          ],
          "to": [
            {
              "select_input_source": {
                "input_source_id": "^com\\.apple\\.keylayout\\.US$"
              }
            },
            {
              "key_code": "vk_none",
              "hold_down_milliseconds": 20
            },
            {
              "key_code": "open_bracket",
              "modifiers": [
                "shift"
              ]
            }
          ],
          "to_after_key_up": [
            {
              "select_input_source": {
                "input_source_id": "^com\\.apple\\.keylayout\\.ABC-QWERTZ$"
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "9",
            "modifiers": {
              "mandatory": [
                "option"
              ]
            }
          },
          "conditions": [
            {
              "type": "input_source_if",
              "input_sources": [
                {
                  "language": "^de$"
                }
              ]
            },
            {
              "type": "frontmost_application_if",
              "file_paths": [
                "^/Applications/Obsidian\\.app",
                "[Nn]eovide"
              ]
            }
          ],
          "to": [
            {
              "select_input_source": {
                "input_source_id": "^com\\.apple\\.keylayout\\.US$"
              }
            },
            {
              "key_code": "vk_none",
              "hold_down_milliseconds": 20
            },
            {
              "key_code": "close_bracket",
              "modifiers": [
                "shift"
              ]
            }
          ],
          "to_after_key_up": [
            {
              "select_input_source": {
                "input_source_id": "^com\\.apple\\.keylayout\\.ABC-QWERTZ$"
              }
            }
          ]
        },
        {
          "type": "basic",
          "from": {
            "key_code": "l",
            "modifiers": {
              "mandatory": [
                "option"
              ]
            }
          },
          "conditions": [
            {
              "type": "input_source_if",
              "input_sources": [
                {
                  "language": "^de$"
                }
              ]
            },
            {
              "type": "frontmost_application_if",
              "file_paths": [
                "^/Applications/Obsidian\\.app",
                "[Nn]eovide"
              ]
            }
          ],
          "to": [
            {
              "select_input_source": {
                "input_source_id": "^com\\.apple\\.keylayout\\.US$"
              }
            },
            {
              "key_code": "vk_none",
              "hold_down_milliseconds": 20
            },
            {
              "key_code": "2",
              "modifiers": [
                "shift"
              ]
            }
          ],
          "to_after_key_up": [
            {
              "select_input_source": {
                "input_source_id": "^com\\.apple\\.keylayout\\.ABC-QWERTZ$"
              }
            }
          ]
        }
      ]
    }
  ]
}
