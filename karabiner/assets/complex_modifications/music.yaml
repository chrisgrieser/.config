# yaml-language-server: $schema=./schema/karabiner-mod-schema.json
#───────────────────────────────────────────────────────────────────────────────
title: Spotify Control
anchors:
  - &not-game 
    type: frontmost_application_unless
    file_paths:
      - "/Users/.*/Library/Application Support/Steam/steamapps/common/"
      - "/Applications/StarCraft II/"
#───────────────────────────────────────────────────────────────────────────────
rules:
  - description: Spotify Media Controls
    manipulators:

      - type: basic
        from: { key_code: f3 }
        to:
          - shell_command: open "https://music.amazon.de/"
        conditions: [*not-game]

      - type: basic
        from: { key_code: f7 }
        to:
          - shell_command: |
              "$HOME/Library/Mobile Documents/com~apple~CloudDocs/Tech/alexa-virtual-trigger" \
                "music-pause"
              "$HOME/.config/karabiner/assets/notificators/music-notificator" \
                --title "Amazon Music" --message "⏸️ Pause"
        conditions: [*not-game]

      - type: basic
        from: { key_code: f8 }
        to:
          - shell_command: |
              "$HOME/Library/Mobile Documents/com~apple~CloudDocs/Tech/alexa-virtual-trigger" \
                "music-play"
              "$HOME/.config/karabiner/assets/notificators/music-notificator" \
                --title "Amazon Music" --message "▶️ Resume"
        conditions: [*not-game]

      - type: basic
        from: { key_code: f9 }
        to:
          - shell_command: |
              "$HOME/Library/Mobile Documents/com~apple~CloudDocs/Tech/alexa-virtual-trigger" \
                "music-next"
              "$HOME/.config/karabiner/assets/notificators/music-notificator" \
                --title "Amazon Music" --message "⏭️ Next"
        conditions: [*not-game]
