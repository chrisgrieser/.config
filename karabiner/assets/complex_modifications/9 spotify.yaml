# yaml-language-server: $schema=./schema/karabiner-mod-schema.json
#───────────────────────────────────────────────────────────────────────────────

title: Spotify Control
rules:
  - description: Spotify Media Controls
    manipulators:
      - type: basic
        from: { key_code: f3 }
        to:
          - shell_command: open "https://open.spotify.com/"
      #─────────────────────────────────────────────────────────────────────────

      # until spotify-play is fixed, use `f7` to pause.
      # https://github.com/aome510/spotify-player/issues/804
      - type: basic
        from: { key_code: f7 }
        to:
          - shell_command: |
              "$HOME/Library/Mobile Documents/com~apple~CloudDocs/Dotfolder/alexa-virtual-trigger" \
                "spotify-pause"
              "$HOME/.config/karabiner/assets/notificators/spotify-notificator" \
                --title "Spotify" --message "⏸️ Pause"


      - type: basic
        from: { key_code: f8 }
        to:
          - shell_command: |
              "$HOME/Library/Mobile Documents/com~apple~CloudDocs/Dotfolder/alexa-virtual-trigger" \
                "spotify-play"
              "$HOME/.config/karabiner/assets/notificators/spotify-notificator" \
                --title "Spotify" --message "▶️ Resume"

      - type: basic
        from: { key_code: f9 }
        to:
          - shell_command: |
              "$HOME/Library/Mobile Documents/com~apple~CloudDocs/Dotfolder/alexa-virtual-trigger" \
                "spotify-next"
