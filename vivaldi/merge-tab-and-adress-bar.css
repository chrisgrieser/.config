/* https://forum.vivaldi.net/topic/16684/inspecting-the-vivaldi-ui-with-devtools */
/* based on https://forum.vivaldi.net/topic/34187/merge-tabs-and-address-bar/61?lang=en-US&page=4 */
/* stylelint-disable selector-max-id, custom-property-pattern  */
:root {
	--adressbar-width: 600px;
	--adressbar-width-2-tab: 500px;
	--adressbar-width-3-tab: 400px;
	--adressbar-width-4-tab: 300px;
	--adressbar-width-5-tab: 200px;
	--adressbar-width-6-tab: 150px;
}

/* less than x tabs */
#tabs-tabbar-container:has(.tab-strip span:nth-child(1)) {
	margin-left: var(--adressbar-width-1-tab);
}

#header:has(.tab-strip span:nth-child(1)) + #main .UrlBar-AddressField {
	width: var(--adressbar-width-1-tab);
}

#tabs-tabbar-container:has(.tab-strip span:nth-child(2)) {
	margin-left: var(--adressbar-width-2-tab);
}

#header:has(.tab-strip span:nth-child(2)) + #main .UrlBar-AddressField {
	width: var(--adressbar-width-2-tab);
}
#tabs-tabbar-container:has(.tab-strip span:nth-child(3)) {
	margin-left: var(--adressbar-width-3-tab);
}

#header:has(.tab-strip span:nth-child(3)) + #main .UrlBar-AddressField {
	width: var(--adressbar-width-3-tab);
}


/* ───────────────────────────────────────────────── */

/* extends the width of the url bar addressfield while it is focused */
/* .UrlBar-AddressField:focus-within:not(:has(#urlFieldInput[value=""])) { */
/* 	width: var(--adressbar-width-1-tab); */
/* } */

/* #header:has(+ #main .UrlBar-AddressField:focus-within):not(:has(+ #main #urlFieldInput[value=""])) #tabs-tabbar-container { */
/* 	margin-left: var(--adressbar-width-1-tab); */
/* } */

#browser #tabs-container {
	padding-left: 12px;
}

#tabs-tabbar-container,
.UrlBar-AddressField {
	transition: 0.15s ease-in-out;
}

.mainbar .toolbar-mainbar:not(.toolbar-wrap .toolbar-droptarget) {
	position: absolute;
	top: 2px;
	left: 2px;
	height: 30px;
	background: none;
}

.mainbar .toolbar-mainbar::before,
.mainbar .toolbar-extensions::before {
	display: none;
}

#browser:not(.is-settingspage) #main {
	position: unset;
}

.win.normal #header {
	height: 30px;
	min-height: unset;
}

/* ───────────────────────────────────────────────── */
/* EXTENSION ICON */

/* show extension button only when hovering url bar */
.toolbar-mainbar:not(:hover) .UrlBar-AddressField + .toolbar-extensions {
	display: none;
}

/* TODO this only works properly when hiding all extension buttons */
#browser #main .mainbar .toolbar-extensions {
	position: absolute;
	background: none;
	height: 30px;
	margin-left: 20px;
	right: 0;
}

.toolbar-extensions .button-toolbar:not(.ExtensionIcon) button:hover svg {
	color: var(--colorHighlightBg);
}

#browser .toolbar-extensions .button-toolbar:not(.ExtensionIcon) button {
	background: none;
}
