{
  "slice": {
    "body": "${1:var}=\"${${1:var}:${2:from}:${3:to}}\"",
    "prefix": "slice"
  },
  "for each line (read)": {
    "body": [
      "while read -r line; do",
      "\techo \"\\$line\"$0",
      "done <\"\\$${1:input_file}\""
    ],
    "prefix": "for each line (read)"
  },
  "default value": {
    "body": "${${1:var}:-${2:default_value}}",
    "prefix": "default value"
  },
  "colored print": {
    "body": [
      "# print color if stdout is a terminal",
      "function colored_print {",
      "\tlocal color=\\${2:-\\\\033[1;35m}",
      "\tlocal msg=\"\\$1\"",
      "\tif [[ -t true ]]; then",
      "\t\tprint \"\\$color\\$msg\\033[0m\"",
      "\telse",
      "\t\tprint \"\\$msg\"",
      "\tfi",
      "}"
    ],
    "prefix": "colored print"
  },
  "check if installed": {
    "body": "if [[ ! -x \"$(command -v ${1:cli})\" ]]; then print \"\\e[1;33m${1:cli} not installed.\\e[0m\" && return 1; fi\n$0",
    "description": "https://stackoverflow.com/a/26759734/22114136",
    "prefix": "check if installed"
  },
  "substitute": {
    "body": "${${1:var}//${2:search}/${3:replace}}",
    "description": "one slash for single substitution, two for global substitution",
    "prefix": "substitute (expansion)"
  },
  "ternary": {
    "body": "$([[ \"${1:cond}\" ]] && echo \"${2:value1}\" || echo \"${3:value2}\")",
    "prefix": "ternary"
  }
}
